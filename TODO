* Bug: <Del> on branch name does not work
  * Cursor does not move, so GUI is not regenerated, apparently. Need
    to rewrite main loop.

* Bug: When esc on hole, cannot see cursor

* Ideas for type inference:

  * Get rid of in-place "subst":

    1. For the "right becomes left" (in unify) case: Replace the use
       of "subst" with Guid aliasing (Keep a list of guids in the
       Constraints)

    2. For the redex case, and the Pi case, we need to duplicate anyway.

    3. Then, we can do a fused subst/dup that does the subst on a dup safely

  * Add "declareSubtype"

    1. Adds one-way links from Ref to Refs that are copied to
       sub-expressions. This means the unify recursion needs to pass
       around any one-way links that must be added

    2. expr constraints are copied along the one way links whenever
    they're added

* DEL should probably allow lambda-unwrap (Remove lambda wrapper)

* Auto-name generation ignores manually chosen names that overlap
  * Should show auto-names with different color to disambguiate and
    make it clear they're auto-gen.

* Add JumpTo which gives a hole-like search -- that can sit in a "tab" in place of a DefinitionEdit

* LHS needs to be in infix form too

* Whenever prejumps is added/popped, we actually update in-version
  data, so it actually creates a new, undo-able version. Need to have
  the JumpBack stack actually be outside the version and in the DB to
  fix this and to make navigation (potentially) nicer when switching
  branches.

  * Jump back should be outside the source control. For this we need
    transactions inside the source control to be able to result in
    extra data outwards, beside the widget's event result.

* Projected moves:
  * Has old focal rect
  * May have "projected focal rect"
  * Gets a new "focal rect"
  * Can generate a "projected focal rect" at the projected position of the direction of the movement
    * This "projected focal rect" is to be used by same grid or any parent grid in future movements
    * This "projected focal rect" is sort of a global thing all grids write to?
    * Each grid can add a "delete my projected focal rect" thing before any child action

* ParamEdit needs to take the eventmap/actions of ExpressionEdit and
  also add them to the param via the FuncParam actions

* Fix typematic. It now triggers when things are stuck even though user unpressed the button.

-------

* 1-use wheres to Sugar as "Titled Expressions"

* Associated comment for any expression to title it? Otherwise we're
  modifying the model to add a comment

* Dapaot:
  * Add anim-id-remappings to sugar changes
  * Multi-ids

-------

* Lambda unwrap invalidates params
